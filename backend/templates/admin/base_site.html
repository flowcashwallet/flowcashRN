{% extends "admin/base.html" %} {% block branding %}
<h1 id="site-name">
  <a href="{% url 'admin:index' %}">Wallet Admin (LTS Stable)</a>
</h1>
{% endblock %} {% block extrahead %} {{ block.super }}
<style>
  /* 
       ðŸ› ï¸ FIX: Layout para Django 4.2 LTS
       Al volver a Django 4.2, recuperamos la estructura de 2 columnas:
       #changelist (Padre) -> [ .changelist-form-container, #changelist-filter ]
    */

  /* 1. El contenedor principal debe ser Flex Row */
  div#changelist {
    display: flex !important;
    flex-direction: row !important;
    align-items: flex-start !important;
    justify-content: space-between !important;
  }

  /* 2. El contenido principal (tabla) debe crecer */
  #changelist .changelist-form-container {
    flex-grow: 1 !important;
    flex-shrink: 1 !important;
    min-width: 0 !important;
    margin-right: 20px !important;
  }

  /* Â¡IMPORTANTE! NO aplicar flex dentro del form-container, 
       porque ahÃ­ queremos que el buscador quede ARRIBA de la tabla. */

  /* 3. El filtro (sidebar) a la derecha con ancho fijo */
  #changelist #changelist-filter {
    display: block !important;
    position: static !important;
    width: 260px !important;
    min-width: 260px !important;
    flex: 0 0 260px !important;
    order: 99 !important;
    background: #fff !important;
    margin: 0 !important;
  }

  /* Dark Mode Support */
  @media (prefers-color-scheme: dark) {
    #changelist #changelist-filter {
      background: #121212 !important;
    }
  }

  /* Mobile Reset (<768px) */
  @media (max-width: 768px) {
    div#changelist {
      display: block !important;
    }
    #changelist #changelist-filter {
      width: 100% !important;
      margin-top: 20px !important;
    }
  }
</style>
{% endblock %}
